
                    JINZO Novel タグ仕様書　　v1.0
                                                            2000/1/1   ueno

◎シナリオファイル

  %t[nnn]
    nnn番のジャンプタグ。シナリオ中に重複する番号があってはならない。
  %jt[nnn]
  　nnn番のジャンプタグにジャンプ

  %s[n],表示文字列,[nnn]
  　n番の選択肢文字列に、(表示文字列)を格納する。選択肢ジャンプ先にnnn番を格納する
    (注) 回想モードでは無視される
  %js[n]
  　0～n番までの選択肢を表示し、解答待ち状態にする。
  　解答に応じて、その解答の選択肢ジャンプ先にジャンプする
　　また、改ページを行う
    (注) 回想モードでは無視される
  
  %v[n],[nnn]
  　変数[n]にnnn番のジャンプタグを格納
  %jv[n]
  　変数[n]に格納されたジャンプ先にジャンプ

   (例)
     %s0,行かない,100
     %s1,行く,101
     %js1　　　(「行く」「行かない」の2つの選択肢を表示)
     %t100
     %v0,200 　(変数#0に200番のジャンプタグを格納)
      ...　　　(「行かない」を選んだ場合のシナリオ記述)
　　 %jt102　　(102番のタグへジャンプ)
     %t101
     %v0,201　 (変数#0に201番のジャンプタグを格納)
      ...      (「行く」を選んだ場合のシナリオ記述)
　　 %t102
      ...      (合流後のシナリオ記述)
　　　...
     %jv0
     %t200
      ...      (「行かない」を選んだ場合のシナリオ記述)
      ...
　　 %jt202    (102番のタグへジャンプ)
     %t101
     %v0,201   (変数#0に201番のジャンプタグを格納)
      ...      (「行く」を選んだ場合のシナリオ記述
     %t201
     %v0,201   (変数#0に201番のジャンプタグを格納)
      ...      (「行く」を選んだ場合のシナリオ記述
     %t202
      ...      (合流後のシナリオ記述

  %w
  　タップ待ち
  %n
　  タップ待ち＆改ページ

  %g[nn]
　  nn番のグラフィック表示。nn=00で非表示
    (注) 回想モードでは無視される

  %gc#[rgb],#[rgb],#[0123]
    グラフィックの色を指定
　　1番目 フルカラーでの背景色変換表示の#000の値  [000～FFF]
　　2番目 フルカラーでの背景色変換表示の#FFFの値  [000～FFF]
　　　     背景色変換表示:グラフィックのRGB各数値を、[0～F]→[c1～c2]に変換する。
           
    3番目 グレー4階調での背景色変換表示の各色の値 [0000～3333]
　　　　　 [0,1,2,3]=[黒,濃灰,薄灰,白]で、左から(黒,濃灰,薄灰,白)の順に変換後の値。
　　　　　 2233では、黒と濃灰の部分は薄灰に、薄灰と白の部分は白に変換される。
    (注) 回想モードでは無視される
    例: %gc#888,#FFF,2233　　（デフォルト値)

  %f[nn]
    テキストのフォントサイズをnnポイントに変更

  %fc#[rgb],#[rgb],#[n],#[n]
    テキストの色を指定
    1番目: フルカラーでの通常時仕様色      [000～FFF]
    2番目: フルカラーでの回想時使用色      [000～FFF]
    3番目: グレー4階調での時の通常時仕様色 [0～3]
    4番目: グレー4階調での回想時使用色     [0～3]
　    (注) 回想モードでは無視される
    例: %fc#000,#FFF,#3,#0   (デフォルト値)
    
  %bc#[rgb],#[rgb],#[n],#[n]
    背景の色を指定
    1番目: フルカラーでの通常時使用色     [000～FFF]
    2番目: フルカラーでの回想時使用色     [000～FFF]
    3番目: グレー4階調での時の通常使用色  [0～3]
    4番目: グレー4階調での回想時使用色    [0～3]
　    (注) 回想モードでは無視される
    例: %bc#FFF,#000,#0,#3   (デフォルト値)
    
  %d[nnn],[nnn],[nnn],[nnn]
    テキスト表示エリアを指定
　　左上X座標、左上Y座標、横幅、縦幅
　　例: %d000,000,640,240
    (注) 回想モードでは無視される
				
　%mg[n]
    グラフィック表示のモード指定
    (注) 回想モードでは無視される
　　n=0  %gでグラフィックを表示した際、そのままの色で表示して
　　　　タップ待ちとなり、タップで背景色変換表示となる。
　　n=1 そのままの色で表示する
　　n=2 背景色変換表示をする

　%at,シナリオタイトル名
  %av,シナリオバージョン名
  %aa,シナリオ作者名
　　Aboutダイアログでの表示文字列指定
    (注) 回想モードでは無視される

  %z
  　終了。タイトルに戻る

  %上記以外
　　コメント行と見なす

 （備考）
  [n] 0～9の数字
  [nn] 00～99の数字
  [nnn] 000～999の数字
  [rgb] 000～FFFの16進数
　%はすべて行頭から開始すること
　コマンドはすべて半角小文字。全角、大文字は不可
  コマンドの文字列中の\n(半角2文字)は改行となる

◎グラフィック指定ファイル
  
　#nn,ファイル名,x,y
　または
　#nn,ファイル名,x,y,c
　　グラフィックファイル名を格納　x,yは左上からのオフセット
　　画像フォーマットは、1,4,8,24bppのBMP、または2bpファイルが使用可能。
　　cがある場合は、その色を透明色とする。(1,4,8bppまたは2bpの場合のみ)
　%nn,nn1,nn2,nn3,nn4
　　%g[nn]で指定する番号での表示を指定する。nnは４個(またはそれ以下)。
    nn1が一番上,nn4が一番下になる
　　00は指定不可　(非表示で使用するため)
    ファイルの末尾に * を記述すること

　(例)
　　#00,face0.bmp,0,0
    #01,eye1.bmp,30,50
    #02,mouth2.bmp,40,70
    #03,mouth3.bmp,40,70
    %01,02,01,00
    %02,03,01,00
    *

　　%g01 では face0.bmp, eye1.bmp, mouth2.bmp が表示され、　　
　　%g02 では face0.bmp, eye1.bmp, mouth3.bmp が表示される　　


◎シナリオパラメータ設定

　シナリオの各種パラメータを設定する。
　.jzt という拡張子のファイル名のファイルに、行頭から
　  1行目:シナリオファイル名
　　2行目:グラフィック指定ファイル名
　　3行目:表示画面サイズ [nnn],[nnn] (横幅、縦幅)
    4行目:使用フォント言語[n]
           0   : 英語
           1   : 日本語
           2～ : 未定
　と指定する。
  このファイルは、JZNovel.exeと同じフォルダに置くこと。
　(例) 
     scenario.txt
     graphic.txt
     640,240
     1

(注) 
  ファイル名に、半角文字以外(漢字など)を使用した場合の動作は保証しない。
  上記ファイルは、ShiftJISにて記述すること。
　Windows95/98/NTのメモ帳などで編集し、CEサービスで転送することで作成可能。
　CE上のエディタ等で編集する場合は、漢字コード、改行コードに注意すること。   
